---
title: os中的'链接'
date: 2021-05-31 22:40:24
tags: os
---

#### 链接的含义

代码到可执行文件，首先通过编译器和汇编器生成**可重定位目标文件**，再通过链接器生成**可执行目标文件**。

编译器主要完成两个任务：

- 符号解析（符号指的是函数、变量）：将每个符号的引用和一个符号的定义关联
- 重定位：编译器生成可重定位目标文件时，从地址0开始写入代码和数字节，链接器将符号定义的内存位置关联，再将符号引用指向符号定义



#### 符号解析

静态库以**存档**（.a文件）的特殊格式存放在磁盘，有一个头部描述各个成员目标文件的大小和位置

链接器最后链接库，并且遵守库之间的引用顺序



#### 重定位

当汇编器遇到未知变量时，会生成一个**重定位条目**,放在rel.text/rel.data中



#### 库打桩机制

在编译、链接、运行时，可以截获对库函数的调用，换成自己的代码。